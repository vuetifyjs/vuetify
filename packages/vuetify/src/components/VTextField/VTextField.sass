@forward './variables'
@use 'sass:selector'
@use '../../styles/settings'
@use './variables' as *

// TODO: abstract variables

.v-text-field
  &.v-input--dirty,
  &.v-input--focused
    input,
    .v-text-field__prefix,
    .v-text-field__suffix
      opacity: 1

  &__prefix,
  &__suffix
    color: $text-field-affix-color
    height: 100%
    display: flex
    align-items: center
    cursor: default
    opacity: 0
    transition: .15s opacity settings.$standard-easing
    white-space: nowrap
    padding-top: calc(var(--v-field-padding-top, 0) + 1px)
    padding-bottom: var(--v-field-padding-bottom, 0)

  &__prefix
    padding-inline-start: var(--v-field-padding-before)

  &__suffix
    padding-inline-end: var(--v-field-padding-after)

  .v-field__input
    @at-root #{selector.append('.v-text-field--prefixed', &)}
      --v-field-padding-before: 6px
    @at-root #{selector.append('.v-text-field--suffixed', &)}
      --v-field-padding-after: 0

  .v-field
    cursor: text

  input
    flex: 1
    opacity: 0
    transition: .15s opacity settings.$standard-easing

    &:focus,
    &:active
      outline: none

    // Remove Firefox red outline
    &:invalid
      box-shadow: none

  .v-field--disabled
    .v-text-field__prefix,
    .v-text-field__suffix
      color: $text-field-disabled-affix-color
