@import '../bootstrap'
@import '../theme'

.toolbar
  position: relative
  transition: .3s $transition.swing
  width: 100%
  will-change: padding-left
  elevation(4)

  .input-group--solo
    .input-group__details
      display: none


/** Children */
.toolbar
  &__title
    font-size: $headings.h6.size
    font-weight: $headings.h6.weight
    letter-spacing: $headings.h6.letter-spacing
    margin-left: 16px
    white-space: nowrap
    overflow: hidden
    text-overflow: ellipsis

  &__content, &__extension
    align-items: center
    display: flex

    > .list
      flex: 1 1 auto
      margin: 0 !important // come back to this
      max-height: 100%

    > .btn:last-child, > .menu:first-child
      margin-right: 10px

    > .btn:first-child, > .menu:first-child
      margin-left: 10px

    > *:not(.btn):not(.toolbar__title):not(.menu):last-child
      margin-right: $grid-gutters.lg

    > *:not(.btn):not(.toolbar__title):not(.menu):first-child
      margin-left: $grid-gutters.lg

  &__content
    height: $toolbar-height

  &__extension
    height: $toolbar-extension-height

  &__items
    display: flex
    height: 100%
    max-width: 100%
    padding: 0

    > .btn
      height: 100%
      margin: 0

  @media $display-breakpoints.xs-only
    &__content,
    &__extension
      > .btn:last-child
        margin-right: 17px

      > .btn:first-child
        margin-left: 17px

      > *:not(.btn):last-child
        margin-right: $grid-gutters.xl

      > *:not(.btn):first-child
        margin-left: $grid-gutters.xl

  @media all and (max-width: $grid-breakpoints.sm) and (orientation: portrait)
    toolbar-content(7px)

  @media all and (max-width: $grid-breakpoints.sm) and (orientation: landscape)
    &__content,
    &__extension
      height: $toolbar-mobile-landscape-height


/** Types */
.toolbar
  &--card
    border-radius: $card-border-radius $card-border-radius 0 0
    elevation(0)

  &--fixed
    position: fixed
    z-index: 2

  &--fixed, &--absolute
    top: 0
    left: 0

  &--absolute
    position: absolute
    z-index 2

    + main
      padding-top: 0

  &--fixed
    + main
      padding-top: $toolbar-height

    @media all and (max-width: $grid-breakpoints.sm) and (orientation: landscape)
      + main
        padding-top: $toolbar-mobile-landscape-height

    &.toolbar--extended
      + main
        padding-top: $toolbar-height + $toolbar-extension-height

      &.toolbar--dense
        + main
          padding-top: $toolbar-mobile-landscape-height * 2

      &.toolbar--prominent
        + main
          padding-top: $toolbar-height * 2

      @media all and (max-width: $grid-breakpoints.lg) and (orientation: landscape)
        + main
          padding-top: $toolbar-mobile-landscape-height * 2

    &.toolbar--dense
      + main
        padding-top: $toolbar-mobile-landscape-height

    &.toolbar--prominent
      + main
        padding-top: $toolbar-height


  &--floating
    display: inline-flex
    margin: 16px
    width: auto

  &--prominent
    .toolbar__content
      height: $toolbar-height

    .toolbar__extension
      height: $toolbar-height

    toolbar-content(15px)

  &--dense
    .toolbar__content,
    .toolbar__extension
      height: $toolbar-mobile-landscape-height

    toolbar-content(7px)

.toolbar__extension
  .toolbar__title
    margin-left: 72px !important

  .tabs__bar
    align-self: flex-end
    margin: 0

toolbar-content(left)
  .toolbar__content,
  .toolbar__extension
    > *:first-child
      margin-left: left

    > *:last-child
      margin-right: left

/* Theme */
toolbar($material)
  background-color: $material.app-bar
  color: $material.text.primary

  .btn
    button($material)

  .toolbar__item
    color: $material.text.primary

    &:hover
      background: $material.dividers

theme(toolbar, "toolbar")
