@import '../bootstrap'
@import '../theme'

chip($material)
  background: $material.chips.background
  color: $material.chips.color

  &__close
    color: $material.icons.active

  :not(.chip--outline)
    &:focus,
    &.chip--active,
    &.chip--selected
      .chip__content
        color: $material.text.theme

        .chip__close
          color: $material.text.theme

theme(chip, "chip")

.chip
  align-items: center
  border-radius: $chip-border-radius
  border: 1px solid transparent
  color: $chip-label-color
  display: inline-flex
  font-size: $chip-font-size
  margin: $chip-margin
  outline: none
  transition: $primary-transition
  vertical-align: middle

  .chip__content
    align-items: center
    border-radius: $chip-border-radius
    cursor: default
    display: inline-flex
    height: $chip-height
    justify-content: space-between
    padding: $chip-padding
    vertical-align: middle
    white-space: nowrap

  &--removable
    .chip__content
      padding: $chip-removeable-padding

  .avatar
    // Important is needed to account for new avatar structure
    height: $chip-height !important
    width: $chip-height !important
    min-width: $chip-height
    margin-left: -12px
    margin-right: 8px
    color: #fff

    img
      width: 100%
      height: 100%

  &:focus,
  &--active,
  &--selected
    &:not(.chip--disabled)
      elevation(2)
      outline: none

      .chip__content
        background: $chip-darken-background

      &.chip--outline
        .chip__content
          background: $chip-darken-background-outline

  &--label
    border-radius: $chip-label-border-radius

    .chip__content
      border-radius: $chip-label-border-radius

  &.chip--outline
    background: $chip-outline-background
    color: $chip-outline-color

  &--small
    height: $chip-small-height

    .avatar
      height: $chip-small-height
      width: $chip-small-height
      min-width: $chip-small-height

  &__close
    align-items: center
    cursor: pointer
    display: flex
    text-decoration: none
    font-size: $chip-icon-font-size
    margin-left: 4px
    margin-right: -2px
    transition: none !important

    &:hover
      opacity: .8

  &--select-multi
    margin: $chip-margin $chip-margin $chip-margin 0

  .icon,
  .chip__close
    color: inherit !important // I don't like this

  .icon
    opacity: .54
    transition: none

    &--right
      margin-left: 4px

    &--left
      margin-right: 4px
